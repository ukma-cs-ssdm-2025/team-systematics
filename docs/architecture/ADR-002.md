# ADR-002: Перевірка на плагіат

**Статус:** Прийнято

**Дата:** 2025-09-29

## Контекст

* **FR-002** вимагає автоматичної перевірки робіт на плагіат, з акцентом на виявленні як дослівного копіювання, так і перефразування.
* **REL-001** вимагає, щоб результати перевірки надійно зберігалися в базі даних.

## Рішення

Буде створено внутрішній модуль «Виявлення плагіату». Архітектура перевірки буде дворівневою для оптимізації ресурсів:

1. **Рівень 1: Швидкий фільтр.** Спочатку виконується перевірка на дослівне копіювання (>98%) за допомогою легкого алгоритму TF-IDF та косинусної подібності. Це дозволяє миттєво відсіяти явний плагіат.
2. **Рівень 2: Глибокий аналіз.** Якщо текст пройшов фільтр, він передається на семантичний аналіз для виявлення перефразування. Для цього використовується нейронна мережа на базі підходів з open-source репозиторію `wasiahmad/paraphrase_identification`.
3. Надійне збереження результатів: Після завершення аналізу весь звіт (відсоток унікальності, список збігів) буде збережено до основної бази даних в рамках однієї транзакції.

Перевірка виконується виключно в межах внутрішньої бази даних студентських робіт.

## Наслідки

### Позитивні
* ✅ **Ефективне виявлення:** Система здатна виявляти як банальне копіювання, так і складне перефразування.
* ✅ **Оптимізація ресурсів:** Дворівнева перевірка значно економить ресурси, використовуючи нейромережу лише для складних випадків.
* ✅ **Надійність збереження**: Використання фонових задач та транзакцій при збереженні гарантує, що результати не будуть втрачені або пошкоджені
* ✅ **Повна автономність:** Відсутність витрат та залежності від сторонніх API.

### Негативні
* ⚠️ **Складність впровадження:** Реалізація потребує значної ML-експертизи та часу на розробку UI.
* ⚠️ **Вимоги до ресурсів:** Для навчання та роботи нейромережі потрібна потужна інфраструктура (CPU/GPU).
* ⚠️ **Обмежена область перевірки:** Система не виявляє плагіат з зовнішніх інтернет-джерел.

## Альтернативи

* **Зовнішній API:**
    *   **Відхилено:** через високу вартість, постійні платежі та залежність від сторонніх сервісів.
* **Лише TF-IDF:**
    *   **Відхилено:** оскільки цей метод не здатний ефективно виявляти перефразування, що є ключовою вимогою.